//package com.revshop.service;
//
//
//import java.util.Scanner;
//
//public class SellerService {
//
//    public void sellerMenu() {
//        Scanner sc = new Scanner(System.in);
//        int choice;
//
//        do {
//            System.out.println("\n--- SELLER MENU ---");
//            System.out.println("1. Add Product");
//            System.out.println("2. Update Product");
//            System.out.println("3. View Orders");
//            System.out.println("4. Logout");
//
//            choice = sc.nextInt();
//
//            switch (choice) {
//                case 1:
//                    System.out.println("Product added");
//                    break;
//                case 2:
//                    System.out.println("Product updated");
//                    break;
//                case 3:
//                    System.out.println("Viewing orders");
//                    break;
//                case 4:
//                    System.out.println("Logout successful");
//                    break;
//                default:
//                    System.out.println("Invalid option");
//            }
//        } while (choice != 4);
//    }
//}
package com.revshop.service;

import com.revshop.dao.ProductDAO;
import com.revshop.model.Product;

import java.util.Scanner;

public class SellerService {

    private ProductDAO productDAO = new ProductDAO();

    public void sellerMenu(Scanner sc) {
        int choice;

        do {
            System.out.println("\n--- SELLER MENU ---");
            System.out.println("1. Add Product");
            System.out.println("2. Update Product");
            System.out.println("3. Logout");

            choice = sc.nextInt();
            sc.nextLine();

            switch (choice) {
                case 1: addProduct(sc); break;
                case 2: updateProduct(sc); break;
                case 3: System.out.println("Logged out"); break;
                default: System.out.println("Invalid choice");
            }
        } while (choice != 3);
    }

    private void addProduct(Scanner sc) {
        System.out.print("Name: ");
        String name = sc.nextLine();
        System.out.print("Category: ");
        String cat = sc.nextLine();
        System.out.print("Price: ");
        double price = sc.nextDouble();

        productDAO.addProduct(
                new Product(productDAO.getNextId(), name, cat, price));
        System.out.println("Product added");
    }

    private void updateProduct(Scanner sc) {
        System.out.print("Product ID: ");
        int id = sc.nextInt();
        Product p = productDAO.getById(id);

        if (p == null) {
            System.out.println("Not found");
            return;
        }

        System.out.print("New price: ");
        p.setPrice(sc.nextDouble());
        System.out.println("Product updated");
    }
}